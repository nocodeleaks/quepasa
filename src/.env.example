# QuePasa Environment Variables Configuration
# This file contains all environment variables used by the project
# Copy this to your actual .env file and adjust values as needed

# =============================================================================
# API/WEB SERVER CONFIGURATION
# =============================================================================

# WEBAPIHOST - Web server bind address
# Options: IP address, hostname, or empty for all interfaces
# Examples: localhost, 127.0.0.1, 0.0.0.0, your-domain.com
WEBAPIHOST=

# WEBAPIPORT - Web server listening port
# Options: Any valid port number (1-65535)
# Default: 31000
# Examples: 3000, 8080, 31000
WEBAPIPORT=31000

# WEBSOCKETSSL - Enable SSL for WebSocket QR code display
# Options: true, false
# Default: false
WEBSOCKETSSL=false

# SIGNING_SECRET - Secret key for signing JWT tokens and cookies
# Options: Any strong random string (recommended: 32+ characters)
# Example: your-super-secret-signing-key-here
SIGNING_SECRET=

# MASTERKEY - Master key for super admin API methods
# Options: Any string (acts as super admin password)
# Example: your-master-admin-key
MASTERKEY=

# USER - Default user for initial database seeding
# Options: Any valid email address or username
# Default: Uses "default@quepasa.io" if not set
# Note: Only used during first startup when no users exist
# IMPORTANT: ALWAYS CHANGE THIS IN PRODUCTION!
USER=admin@yourdomain.com

# PASSWORD - Password for default user
# Options: Any strong password (recommended: 12+ characters with mixed case, numbers, symbols)
# Default: Creates user with EMPTY password if not set (INSECURE!)
# Note: Only used during first startup when no users exist
# IMPORTANT: ALWAYS SET THIS IN PRODUCTION!
PASSWORD=YourSecurePassword123!@#

# HTTPLOGS - Enable HTTP request logging
# Options: true, false
# Default: false
HTTPLOGS=false

# =============================================================================
# MODEL CONTEXT PROTOCOL (MCP) SERVER
# =============================================================================

# MCP_ENABLED - Enable MCP server for AI assistant integration
# Options: true, false
# Default: false
# Note: Allows AI assistants to interact with QuePasa API via MCP protocol
MCP_ENABLED=false

# MCP_PATH - MCP server endpoint path
# Options: Any valid URL path
# Default: /mcp
# Example: /mcp, /api/mcp
MCP_PATH=/mcp

# =============================================================================
# WEBHOOK SYSTEM
# =============================================================================

# WEBHOOK_TIMEOUT - Timeout in seconds for webhook requests
# Options: Any positive integer
# Default: 10
# Examples: 5, 10, 15, 30
#WEBHOOK_TIMEOUT=10

# =============================================================================
# SWAGGER DOCUMENTATION
# =============================================================================

# SWAGGER - Enable/disable Swagger UI for API documentation
# Options: true, false
# Default: true
# Note: Access Swagger UI at http://your-server:port/swagger/
SWAGGER=true

# SWAGGER_PREFIX - URL path prefix for Swagger UI
# Options: Any valid URL path segment
# Default: swagger
# Examples: swagger, api-docs, docs
# Note: Swagger will be accessible at /{SWAGGER_PREFIX}/
SWAGGER_PREFIX=swagger

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# DBDRIVER - Database driver type
# Options: sqlite3, postgres, mysql
# Default: sqlite3
DBDRIVER=sqlite3

# DBHOST - Database server hostname or IP
# Options: localhost, IP address, hostname
# Examples: localhost, 127.0.0.1, db.example.com
# Note: Not needed for sqlite3
DBHOST=

# DBDATABASE - Database name
# Options: Any valid database name
# Examples: quepasa, quepasa_production
# Note: For sqlite3, this is the file path
DBDATABASE=

# DBPORT - Database server port
# Options: Any valid port number
# Examples: 5432 (PostgreSQL), 3306 (MySQL)
# Note: Not needed for sqlite3
DBPORT=

# DBUSER - Database username
# Options: Any valid database username
# Note: Not needed for sqlite3
DBUSER=

# DBPASSWORD - Database password
# Options: Any string
# Note: Not needed for sqlite3
DBPASSWORD=

# DBSSLMODE - Database SSL connection mode
# Options: disable, require, verify-ca, verify-full
# Default: disable
# Note: PostgreSQL specific
DBSSLMODE=

# =============================================================================
# WHATSAPP CONFIGURATION
# =============================================================================

# READUPDATE - Automatically mark chats as read when sending messages
# Options: true, false
# Default: false
READUPDATE=false

# READRECEIPTS - Handle read receipt events
# Options: true, false, forcedfalse (force disable)
# Default: false
READRECEIPTS=false

# CALLS - Handle WhatsApp call events
# Options: true, false
# Default: false
# Note: When true, call events will be processed
CALLS=false

# GROUPS - Handle group messages and events
# Options: true, false
# Default: false
# Note: When true, group messages will be processed
GROUPS=false

# BROADCASTS - Handle broadcast list messages
# Options: true, false
# Default: false
BROADCASTS=false

# HISTORYSYNCDAYS - Days of message history to sync on first connection
# Options: Any positive integer, or empty for default
# Examples: 1, 7, 30
# Note: Higher values may slow initial sync
HISTORYSYNCDAYS=

# PRESENCE - WhatsApp presence status
# Options: available, unavailable, composing, recording, paused
# Default: unavailable
# Examples: available (online), unavailable (offline)
PRESENCE=unavailable

# =============================================================================
# SIP PROXY CONFIGURATION
# =============================================================================

# SIPPROXY_HOST - SIP server hostname or IP address
# Options: hostname, IP address, or EMPTY to disable SIP Proxy
# Examples: sip.provider.com, 192.168.1.100
# IMPORTANT: If empty, SIP Proxy is DISABLED. If set, SIP Proxy is ENABLED.
SIPPROXY_HOST=

# SIPPROXY_PORT - SIP server port
# Options: Any valid port number (1-65535)
# Default: 26499
# Common ports: 5060 (standard), 5061 (TLS), 26499 (custom)
SIPPROXY_PORT=26499

# SIPPROXY_LOCALPORT - Local SIP listening port
# Options: Any available port number (1-65535)
# Default: 5060
# Note: Standard SIP port is 5060
SIPPROXY_LOCALPORT=5060

# SIPPROXY_PUBLICIP - Override public IP address for NAT
# Options: IP address, or EMPTY for automatic discovery
# Examples: 203.0.113.1, or leave empty for auto-discovery
# Note: Leave empty unless you have specific NAT requirements
SIPPROXY_PUBLICIP=

# SIPPROXY_STUNSERVER - STUN server for NAT discovery
# Options: hostname:port format
# Default: stun1.l.google.com:19302
# Examples: stun.l.google.com:19302, stun1.l.google.com:19302
SIPPROXY_STUNSERVER=stun1.l.google.com:19302

# SIPPROXY_USEUPNP - Enable UPnP for automatic port forwarding
# Options: true, false
# Default: true
# Note: Helps with NAT traversal on compatible routers
SIPPROXY_USEUPNP=true

# SIPPROXY_MEDIAPORTS - RTP media port range
# Options: port1-port2 format
# Default: 10000-20000
# Examples: 10000-20000, 16384-32767, 49152-65535
SIPPROXY_MEDIAPORTS=10000-20000

# SIPPROXY_CODECS - Supported audio codecs (comma-separated)
# Options: PCMU, PCMA, G729, G722, GSM, iLBC, OPUS
# Default: PCMU,PCMA,G729
# Examples: PCMU,PCMA (basic), G722,OPUS (HD audio)
SIPPROXY_CODECS=PCMU,PCMA,G729

# SIPPROXY_USERAGENT - SIP User-Agent identifier string
# Options: Any string
# Default: QuePasa-SIP-Proxy/1.0
# Examples: MyApp/1.0, QuePasa-SIP/2.0
SIPPROXY_USERAGENT=QuePasa-SIP-Proxy/1.0

# SIPPROXY_LOGLEVEL - SIP proxy specific log level
# Options: debug, info, warn, error
# Default: info
# Note: 'debug' provides detailed SIP message logs
SIPPROXY_LOGLEVEL=info

# SIPPROXY_TIMEOUT - SIP transaction timeout in seconds
# Options: Any positive integer (5-300)
# Default: 30
# Examples: 15 (fast), 30 (normal), 60 (slow networks)
SIPPROXY_TIMEOUT=30

# SIPPROXY_RETRIES - Number of SIP INVITE retry attempts
# Options: Any positive integer (1-10)
# Default: 3
# Examples: 1 (fast fail), 3 (normal), 5 (persistent)
SIPPROXY_RETRIES=3

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# LOGLEVEL - General application log level
# Options: DEBUG, INFO, WARN, ERROR, FATAL
# Default: INFO
# Examples: DEBUG (verbose), INFO (normal), WARN (minimal)
LOGLEVEL=

# WHATSMEOW_LOGLEVEL - Whatsmeow library log level
# Options: DEBUG, INFO, WARN, ERROR
# Default: WARN
# Note: Controls WhatsApp protocol library logging
WHATSMEOW_LOGLEVEL=

# WHATSMEOW_DBLOGLEVEL - Whatsmeow database operations log level
# Options: DEBUG, INFO, WARN, ERROR
# Default: WARN
# Note: Controls database query logging from Whatsmeow
WHATSMEOW_DBLOGLEVEL=

# =============================================================================
# GENERAL APPLICATION SETTINGS
# =============================================================================

# MIGRATIONS - Enable automatic database migrations on startup
# Options: true, false
# Default: true
# Note: Automatically updates database schema
MIGRATIONS=true

# APP_TITLE - Application title displayed in WhatsApp device list
# Options: Any string
# Default: QuePasa
# Examples: "My WhatsApp Bot", "Company Bot"
APP_TITLE=

# REMOVEDIGIT9 - Remove digit 9 from Brazilian phone numbers
# Options: true, false
# Default: false
# Note: Brazil-specific phone number formatting
REMOVEDIGIT9=false

# SYNOPSISLENGTH - Maximum length for message synopsis/preview
# Options: Any positive integer
# Default: 50
# Examples: 25 (short), 50 (normal), 100 (long)
SYNOPSISLENGTH=50

# CACHELENGTH - Maximum number of items in message cache
# Options: Any positive integer, or 0 for unlimited
# Default: 0 (unlimited)
# Examples: 1000, 5000, 0 (unlimited)
CACHELENGTH=0

# CACHEDAYS - Maximum age of cached messages in days
# Options: Any positive integer, or 0 for unlimited
# Default: 0 (unlimited)
# Examples: 7, 30, 90, 0 (unlimited)
CACHEDAYS=0

# COMPATIBLE_MIME_AS_AUDIO - Treat compatible MIME types as audio
# Options: true, false
# Default: true
# Note: Handles various audio format compatibility
COMPATIBLE_MIME_AS_AUDIO=true

# FORCE_AUDIO_AS_PTT - Force all audio formats to be sent as PTT (voice notes)
# Options: true, false
# Default: true
# Note: When true, MP3/WAV/other audio files are converted to OGG Opus and sent as voice notes.
# WAV files are converted without ffmpeg. Other formats require ffmpeg.
FORCE_AUDIO_AS_PTT=true

# ACCOUNTSETUP - Enable new account creation via web interface
# Options: true, false
# Default: true
# Note: When false, disables account registration
ACCOUNTSETUP=true

# TESTING - Enable testing mode with additional debug features
# Options: true, false
# Default: false
# Note: Should be false in production
TESTING=false

# DISPATCHUNHANDLED - Forward unhandled messages to webhooks
# Options: true, false
# Default: false
# Note: Sends unknown message types to configured webhooks
DISPATCHUNHANDLED=false

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================

# RABBITMQ_QUEUE - RabbitMQ queue name for message processing
# Options: Any valid queue name
# Examples: chatwoot, quepasa_messages, notifications
# Note: Leave empty to disable RabbitMQ integration
RABBITMQ_QUEUE=

# RABBITMQ_CONNECTIONSTRING - RabbitMQ server connection string
# Options: amqp://user:password@host:port/vhost format
# Examples: amqp://guest:guest@localhost:5672/
#           amqp://admin:admin@rabbitmq.example.com:5672/
# Note: Standard RabbitMQ connection URL format
RABBITMQ_CONNECTIONSTRING=

# RABBITMQ_CACHELENGTH - Maximum messages to cache for RabbitMQ
# Options: Any positive integer, or 0 for unlimited
# Default: 0 (unlimited)
# Examples: 100, 1000, 0 (unlimited)
RABBITMQ_CACHELENGTH=0

# =============================================================================
# USAGE NOTES
# =============================================================================
# 1. Copy this file to .env and uncomment/modify values as needed
# 2. SIP Proxy: Set SIPPROXY_HOST to enable, leave empty to disable
# 3. Database: sqlite3 requires no additional configuration
# 4. WhatsApp: Start with conservative settings, enable features gradually
# 5. Logging: Use DEBUG only for development, INFO/WARN for production
# 6. Cache: Monitor memory usage when enabling cache limits
# 7. RabbitMQ: Optional integration for external message processing
